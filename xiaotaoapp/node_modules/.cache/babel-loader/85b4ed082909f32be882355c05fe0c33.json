{"ast":null,"code":"import _classCallCheck from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\frontend\\\\xiaotaoapp\\\\src\\\\js\\\\components\\\\blog\\\\tagcard.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { COLOR_BLOG_CATEGORY, COLOR_LABEL_CATEGORY } from '../../constants/config';\nimport '../../../css/blog/tagcard.css';\n\nvar TagCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TagCard, _React$Component);\n\n  function TagCard() {\n    _classCallCheck(this, TagCard);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TagCard).apply(this, arguments));\n  }\n\n  _createClass(TagCard, [{\n    key: \"render\",\n    value: function render() {\n      var tagList = [];\n      var tagHash = {};\n      var issues = this.props.issues; // 类别去重计数（待优化）\n\n      for (var i = 0; i < issues.length; i += 1) {\n        for (var j = 0; j < issues[i].labels.length; j += 1) {\n          var label = issues[i].labels[j];\n\n          if (label.color !== COLOR_BLOG_CATEGORY && label.color !== COLOR_LABEL_CATEGORY) {\n            var id = label.id;\n            var name = label.name;\n\n            if (tagHash[name] === undefined) {\n              tagHash[name] = true;\n              var tagTemp = {\n                id: id,\n                name: name,\n                url: encodeURI(name),\n                sum: 1\n              };\n              tagList.push(tagTemp);\n            } else {\n              for (var k = 0; k < tagList.length; k += 1) {\n                if (tagList[k].name === name) {\n                  tagList[k].sum += 1;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      var tagLinkList = tagList.sort(function (a, b) {\n        return b.sum - a.sum;\n      }).map(function (item) {\n        return React.createElement(Link, {\n          key: item.id,\n          to: \"/blog/tag/\".concat(item.url),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, item.name, \" (\", item.sum, \")\");\n      });\n      return React.createElement(\"div\", {\n        className: \"rightsider-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"blog-tagcard-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"tag-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), \" \\u6807\\u7B7E\"), React.createElement(\"div\", {\n        className: \"blog-tagcard-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, tagLinkList));\n    }\n  }]);\n\n  return TagCard;\n}(React.Component);\n\nexport { TagCard as default };\nTagCard.defaultProps = {\n  issues: []\n};\nTagCard.propTypes = {\n  issues: PropTypes.array\n};","map":{"version":3,"sources":["E:\\frontend\\xiaotaoapp\\src\\js\\components\\blog\\tagcard.js"],"names":["React","PropTypes","Icon","Link","COLOR_BLOG_CATEGORY","COLOR_LABEL_CATEGORY","TagCard","tagList","tagHash","issues","props","i","length","j","labels","label","color","id","name","undefined","tagTemp","url","encodeURI","sum","push","k","tagLinkList","sort","a","b","map","item","Component","defaultProps","propTypes","array"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { COLOR_BLOG_CATEGORY, COLOR_LABEL_CATEGORY } from '../../constants/config';\nimport '../../../css/blog/tagcard.css';\n\nexport default class TagCard extends React.Component {\n  render() {\n    const tagList = [];\n    const tagHash = {};\n    const issues = this.props.issues;\n    // 类别去重计数（待优化）\n    for (let i = 0; i < issues.length; i += 1) {\n      for (let j = 0; j < issues[i].labels.length; j += 1) {\n        const label = issues[i].labels[j];\n        if (label.color !== COLOR_BLOG_CATEGORY && label.color !== COLOR_LABEL_CATEGORY) {\n          const id = label.id;\n          const name = label.name;\n          if (tagHash[name] === undefined) {\n            tagHash[name] = true;\n            const tagTemp = { id, name, url: encodeURI(name), sum: 1 };\n            tagList.push(tagTemp);\n          } else {\n            for (let k = 0; k < tagList.length; k += 1) {\n              if (tagList[k].name === name) {\n                tagList[k].sum += 1;\n              }\n            }\n          }\n        }\n      }\n    }\n    const tagLinkList = tagList.sort((a, b) => b.sum - a.sum).map(item => <Link key={item.id} to={`/blog/tag/${item.url}`}>{item.name} ({item.sum})</Link>);\n    return (\n      <div className=\"rightsider-card\">\n        <div className=\"blog-tagcard-title\"><Icon type=\"tag-o\" /> 标签</div>\n        <div className=\"blog-tagcard-content\">\n          {tagLinkList}\n        </div>\n      </div>\n    );\n  }\n}\n\nTagCard.defaultProps = {\n  issues: [],\n};\n\nTagCard.propTypes = {\n  issues: PropTypes.array,\n};\n"]},"metadata":{},"sourceType":"module"}