{"ast":null,"code":"import _classCallCheck from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"E:\\\\frontend\\\\xiaotaoapp\\\\src\\\\js\\\\components\\\\archive\\\\archivelist.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ArchiveItemList from './archiveitemlist';\n\nvar ArchiveList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ArchiveList, _React$Component);\n\n  function ArchiveList() {\n    var _this;\n\n    _classCallCheck(this, ArchiveList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ArchiveList).call(this));\n    _this.getYearData = _this.getYearData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ArchiveList, [{\n    key: \"getYearData\",\n    value: function getYearData(issues) {\n      var len = issues.length;\n      var year = 0;\n      var articles = {};\n\n      for (var i = 0; i < len; i += 1) {\n        var time = parseInt(issues[i].updated_at.substring(0, 4), 10);\n\n        if (time !== year) {\n          if (!articles[time]) {\n            articles[time] = [];\n          }\n\n          year = time;\n        }\n\n        articles[time].push(issues[i]);\n      }\n\n      return articles;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var articles = this.getYearData(this.props.issues);\n      var articleList = [];\n      Object.keys(articles).forEach(function (key) {\n        if (Object.prototype.toString.call(articles[key]) === '[object Array]') {\n          articleList.push(React.createElement(ArchiveItemList, {\n            key: key,\n            year: key,\n            items: articles[key],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31\n            },\n            __self: this\n          }));\n        }\n      });\n      return React.createElement(\"div\", {\n        className: \"archive-list-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"archive-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, articleList));\n    }\n  }]);\n\n  return ArchiveList;\n}(React.Component);\n\nexport { ArchiveList as default };\nArchiveList.defaultProps = {\n  issues: null\n};\nArchiveList.propTypes = {\n  issues: PropTypes.array\n};","map":{"version":3,"sources":["E:\\frontend\\xiaotaoapp\\src\\js\\components\\archive\\archivelist.js"],"names":["React","PropTypes","ArchiveItemList","ArchiveList","getYearData","bind","issues","len","length","year","articles","i","time","parseInt","updated_at","substring","push","props","articleList","Object","keys","forEach","key","prototype","toString","call","Component","defaultProps","propTypes","array"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;IAEqBC,W;;;;;AACnB,yBAAc;AAAA;;AAAA;;AACZ;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,uDAAnB;AAFY;AAGb;;;;gCACWC,M,EAAQ;AAClB,UAAMC,GAAG,GAAGD,MAAM,CAACE,MAAnB;AACA,UAAIC,IAAI,GAAG,CAAX;AACA,UAAMC,QAAQ,GAAG,EAAjB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,GAApB,EAAyBI,CAAC,IAAI,CAA9B,EAAiC;AAC/B,YAAMC,IAAI,GAAGC,QAAQ,CAACP,MAAM,CAACK,CAAD,CAAN,CAAUG,UAAV,CAAqBC,SAArB,CAA+B,CAA/B,EAAkC,CAAlC,CAAD,EAAuC,EAAvC,CAArB;;AACA,YAAIH,IAAI,KAAKH,IAAb,EAAmB;AACjB,cAAI,CAACC,QAAQ,CAACE,IAAD,CAAb,EAAqB;AACnBF,YAAAA,QAAQ,CAACE,IAAD,CAAR,GAAiB,EAAjB;AACD;;AACDH,UAAAA,IAAI,GAAGG,IAAP;AACD;;AACDF,QAAAA,QAAQ,CAACE,IAAD,CAAR,CAAeI,IAAf,CAAoBV,MAAM,CAACK,CAAD,CAA1B;AACD;;AACD,aAAOD,QAAP;AACD;;;6BACQ;AACP,UAAMA,QAAQ,GAAG,KAAKN,WAAL,CAAiB,KAAKa,KAAL,CAAWX,MAA5B,CAAjB;AACA,UAAMY,WAAW,GAAG,EAApB;AACAC,MAAAA,MAAM,CAACC,IAAP,CAAYV,QAAZ,EAAsBW,OAAtB,CAA8B,UAACC,GAAD,EAAS;AACrC,YAAIH,MAAM,CAACI,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+Bf,QAAQ,CAACY,GAAD,CAAvC,MAAkD,gBAAtD,EAAwE;AACtEJ,UAAAA,WAAW,CAACF,IAAZ,CAAiB,oBAAC,eAAD;AAAiB,YAAA,GAAG,EAAEM,GAAtB;AAA2B,YAAA,IAAI,EAAEA,GAAjC;AAAsC,YAAA,KAAK,EAAEZ,QAAQ,CAACY,GAAD,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAjB;AACD;AACF,OAJD;AAKA,aACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGJ,WADH,CADF,CADF;AAOD;;;;EApCsClB,KAAK,CAAC0B,S;;SAA1BvB,W;AAuCrBA,WAAW,CAACwB,YAAZ,GAA2B;AACzBrB,EAAAA,MAAM,EAAE;AADiB,CAA3B;AAIAH,WAAW,CAACyB,SAAZ,GAAwB;AACtBtB,EAAAA,MAAM,EAAEL,SAAS,CAAC4B;AADI,CAAxB","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport ArchiveItemList from './archiveitemlist';\n\nexport default class ArchiveList extends React.Component {\n  constructor() {\n    super();\n    this.getYearData = this.getYearData.bind(this);\n  }\n  getYearData(issues) {\n    const len = issues.length;\n    let year = 0;\n    const articles = {};\n    for (let i = 0; i < len; i += 1) {\n      const time = parseInt(issues[i].updated_at.substring(0, 4), 10);\n      if (time !== year) {\n        if (!articles[time]) {\n          articles[time] = [];\n        }\n        year = time;\n      }\n      articles[time].push(issues[i]);\n    }\n    return articles;\n  }\n  render() {\n    const articles = this.getYearData(this.props.issues);\n    const articleList = [];\n    Object.keys(articles).forEach((key) => {\n      if (Object.prototype.toString.call(articles[key]) === '[object Array]') {\n        articleList.push(<ArchiveItemList key={key} year={key} items={articles[key]} />);\n      }\n    });\n    return (\n      <div className=\"archive-list-area\">\n        <div className=\"archive-list\">\n          {articleList}\n        </div>\n      </div>\n    );\n  }\n}\n\nArchiveList.defaultProps = {\n  issues: null,\n};\n\nArchiveList.propTypes = {\n  issues: PropTypes.array,\n};\n"]},"metadata":{},"sourceType":"module"}