{"ast":null,"code":"import _classCallCheck from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"E:\\\\frontend\\\\xiaotaoapp\\\\src\\\\js\\\\components\\\\category\\\\categorycard.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon } from 'antd';\nimport { COLOR_LABEL_CATEGORY } from '../../constants/config';\n\nvar CategoryCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CategoryCard, _React$Component);\n\n  function CategoryCard() {\n    var _this;\n\n    _classCallCheck(this, CategoryCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoryCard).call(this));\n    _this.getCategorySum = _this.getCategorySum.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CategoryCard, [{\n    key: \"getCategorySum\",\n    value: function getCategorySum(issues) {\n      var categoryList = [];\n      var categoryHash = {};\n\n      for (var i = 0; i < issues.length; i += 1) {\n        var labels = issues[i].labels;\n\n        for (var j = 0; j < labels.length; j += 1) {\n          if (labels[j].color === COLOR_LABEL_CATEGORY) {\n            var category = labels[j].name;\n\n            if (categoryHash[category] === undefined) {\n              categoryHash[category] = true;\n              var categoryTemp = {\n                category: category,\n                sum: 1\n              };\n              categoryList.push(categoryTemp);\n            } else {\n              for (var k = 0; k < categoryList.length; k += 1) {\n                if (categoryList[k].category === category) {\n                  categoryList[k].sum += 1;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return categoryList;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var categoryList = this.getCategorySum(this.props.issues).sort(function (a, b) {\n        return b.sum - a.sum;\n      }).map(function (item) {\n        return React.createElement(\"li\", {\n          key: item.category,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, item.category, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, item.sum));\n      });\n      return React.createElement(\"div\", {\n        className: \"rightsider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rightsider-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rightsider-card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"bars\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }), \" \\u7EDF\\u8BA1\"), React.createElement(\"div\", {\n        className: \"rightsider-card-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, categoryList)));\n    }\n  }]);\n\n  return CategoryCard;\n}(React.Component);\n\nexport { CategoryCard as default };\nCategoryCard.defaultProps = {\n  issues: null\n};\nCategoryCard.propTypes = {\n  issues: PropTypes.array\n};","map":{"version":3,"sources":["E:\\frontend\\xiaotaoapp\\src\\js\\components\\category\\categorycard.js"],"names":["React","PropTypes","Icon","COLOR_LABEL_CATEGORY","CategoryCard","getCategorySum","bind","issues","categoryList","categoryHash","i","length","labels","j","color","category","name","undefined","categoryTemp","sum","push","k","props","sort","a","b","map","item","Component","defaultProps","propTypes","array"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon } from 'antd';\nimport { COLOR_LABEL_CATEGORY } from '../../constants/config';\n\nexport default class CategoryCard extends React.Component {\n  constructor() {\n    super();\n    this.getCategorySum = this.getCategorySum.bind(this);\n  }\n  getCategorySum(issues) {\n    const categoryList = [];\n    const categoryHash = {};\n    for (let i = 0; i < issues.length; i += 1) {\n      const labels = issues[i].labels;\n      for (let j = 0; j < labels.length; j += 1) {\n        if (labels[j].color === COLOR_LABEL_CATEGORY) {\n          const category = labels[j].name;\n          if (categoryHash[category] === undefined) {\n            categoryHash[category] = true;\n            const categoryTemp = { category, sum: 1 };\n            categoryList.push(categoryTemp);\n          } else {\n            for (let k = 0; k < categoryList.length; k += 1) {\n              if (categoryList[k].category === category) {\n                categoryList[k].sum += 1;\n              }\n            }\n          }\n        }\n      }\n    }\n    return categoryList;\n  }\n  render() {\n    const categoryList = this.getCategorySum(this.props.issues).sort((a, b) => b.sum - a.sum).map(\n      item => <li key={item.category}>{item.category}<span>{item.sum}</span></li>);\n    return (\n      <div className=\"rightsider\">\n        <div className=\"rightsider-card\">\n          <div className=\"rightsider-card-title\"><Icon type=\"bars\" /> 统计</div>\n          <div className=\"rightsider-card-content\">\n            {categoryList}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nCategoryCard.defaultProps = {\n  issues: null,\n};\n\nCategoryCard.propTypes = {\n  issues: PropTypes.array,\n};\n"]},"metadata":{},"sourceType":"module"}