{"ast":null,"code":"'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _class, _temp;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _nextUtil = require('../../next-util/lib/index.js');\n\nvar _utils = require('./utils/utils.js');\n\nvar _innerSlider = require('./slick/inner-slider.js');\n\nvar _innerSlider2 = _interopRequireDefault(_innerSlider);\n\nvar _json2mq = require('./utils/json2mq.js');\n\nvar _json2mq2 = _interopRequireDefault(_json2mq);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass);\n}\n\nvar ResponsiveMixin = {};\n\nif (window) {\n  require('./utils/matchmedia.js');\n\n  require('./utils/matchmedia-listener.js');\n\n  ResponsiveMixin = require('./slick/mixins/react-responsive-mixin.js');\n}\n/** Slider */\n\n\nvar Slider = (_temp = _class = function (_Component) {\n  _inherits(Slider, _Component);\n\n  function Slider(props, context) {\n    _classCallCheck(this, Slider);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props, context));\n\n    _this.resize = function () {\n      _this.innerSlider.onWindowResized();\n    };\n\n    _this.state = {\n      breakpoint: null\n    };\n    return _this;\n  }\n\n  Slider.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this; // TODO: 1.x remove responsive\n\n\n    var responsive = this.props.responsive;\n\n    if (responsive) {\n      var breakpoints = responsive.map(function (breakPt) {\n        return breakPt.breakpoint;\n      });\n      breakpoints.sort(function (x, y) {\n        return x - y;\n      });\n      breakpoints.forEach(function (breakpoint, index) {\n        var bQuery = void 0;\n\n        if (index === 0) {\n          bQuery = (0, _json2mq2['default'])({\n            minWidth: 0,\n            maxWidth: breakpoint\n          });\n        } else {\n          bQuery = (0, _json2mq2['default'])({\n            minWidth: breakpoints[index - 1],\n            maxWidth: breakpoint\n          });\n        }\n\n        _this2.media(bQuery, function () {\n          _this2.setState({\n            breakpoint: breakpoint\n          });\n        });\n      }); // Register media query for full screen. Need to support resize from small to large\n\n      var query = (0, _json2mq2['default'])({\n        minWidth: breakpoints.slice(-1)[0]\n      });\n      this.media(query, function () {\n        _this2.setState({\n          breakpoint: null\n        });\n      });\n    }\n  };\n\n  Slider.prototype.render = function render() {\n    var _classnames,\n        _this3 = this;\n\n    var _props = this.props,\n        prefixCls = _props.prefixCls,\n        responsive = _props.responsive,\n        arrowPos = _props.arrowPos,\n        vertical = _props.vertical,\n        slideDirection = _props.slideDirection,\n        style = _props.style,\n        className = _props.className,\n        children = _props.children;\n    var prefix = this.context.prefix || prefixCls || this.props.prefix;\n    var settings = void 0;\n    var newProps = void 0;\n    var classNames = (0, _classnames3['default'])((_classnames = {}, _defineProperty(_classnames, prefix + 'slick', true), _defineProperty(_classnames, prefix + 'slick-' + arrowPos, arrowPos), _defineProperty(_classnames, prefix + 'slick-' + slideDirection, slideDirection === 'vertical' || slideDirection === 'horizontal'), _classnames), className);\n    /* istanbul ignore if  */\n\n    if (this.state.breakpoint) {\n      newProps = responsive.filter(function (resp) {\n        return resp.breakpoint === _this3.state.breakpoint;\n      });\n      settings = newProps[0].settings === 'unslick' ? 'unslick' : _extends({}, this.props, newProps[0].settings, {\n        prefix: prefix\n      });\n    } else {\n      settings = _extends({}, this.props, {\n        prefix: prefix\n      }); // for rewrite the properties\n\n      var slideCount = _react2['default'].Children.count(children);\n\n      if (slideCount === 1) {\n        settings.arrows = false;\n        settings.autoplay = false;\n        settings.draggable = false;\n      } else if (slideCount === 0) {\n        return null;\n      }\n    } // TODO: 1.0 时取消 vertical 属性\n    // WARM: 1.0 时将不对外暴露 vertical ，原有 vertical 功能由 dotsDirection 取代， slideDirection 用于控制组件的滑动方向\n\n\n    if (vertical) {\n      _nextUtil.log.deprecated('vertical', 'dotsDirection', 'Slider');\n\n      settings.dotsDirection = 'vertical';\n      settings.vertical = false;\n    }\n\n    if (slideDirection === 'vertical') {\n      settings.vertical = true; // 向下传递时使用 vertical 属性\n    } // TODO: 1.0 时取消 prefixCls 属性\n\n\n    if (prefixCls) {\n      _nextUtil.log.deprecated('prefixCls', 'prefix', 'Slider');\n\n      settings.prefix = prefixCls;\n    }\n\n    if (settings === 'unslick') {\n      // if 'unslick' responsive breakpoint setting used, just return the <Slider> tag nested HTML\n      return _react2['default'].createElement('div', null, children);\n    } else {\n      return _react2['default'].createElement('div', {\n        className: classNames,\n        style: style\n      }, _react2['default'].createElement(_innerSlider2['default'], _extends({\n        ref: function ref(ins) {\n          return _this3.innerSlider = ins;\n        }\n      }, settings), children));\n    }\n  };\n\n  return Slider;\n}(_react.Component), _class.contextTypes = {\n  prefix: _propTypes2['default'].string\n}, _class.propTypes = {\n  /**\n   * 样式前缀\n   */\n  prefix: _propTypes2['default'].string,\n  prefixCls: _propTypes2['default'].string,\n  // obsolete\n\n  /**\n   * 自定义传入的样式\n   */\n  className: _propTypes2['default'].string,\n\n  /**\n   * 是否使用自适应高度\n   */\n  adaptiveHeight: _propTypes2['default'].bool,\n\n  /**\n   * 是否开启动效\n   */\n  animation: _propTypes2['default'].bool,\n\n  /**\n   * 是否显示箭头\n   */\n  arrows: _propTypes2['default'].bool,\n\n  /**\n   * 导航箭头大小\n   */\n  arrowSize: _propTypes2['default'].oneOf(['medium', 'large']),\n\n  /**\n   * 导航箭头位置\n   */\n  arrowPos: _propTypes2['default'].oneOf(['inline', 'outer']),\n\n  /**\n   * 导航箭头的方向\n   */\n  arrowDirection: _propTypes2['default'].oneOf(['horizontal', 'vertical']),\n\n  /**\n   * 向后箭头\n   */\n  nextArrow: _propTypes2['default'].element,\n\n  /**\n   * 向后箭头\n   */\n  prevArrow: _propTypes2['default'].element,\n\n  /**\n   * 是否自动播放\n   */\n  autoplay: _propTypes2['default'].bool,\n\n  /**\n   * 自动播放的速度\n   */\n  autoplaySpeed: _propTypes2['default'].number,\n\n  /**\n   * 是否启用居中模式\n   */\n  centerMode: _propTypes2['default'].bool,\n\n  /**\n   * 是否显示导航锚点\n   */\n  dots: _propTypes2['default'].bool,\n\n  /**\n   * 导航锚点到位置\n   */\n  dotsDirection: _propTypes2['default'].oneOf(['horizontal', 'vertical']),\n  dotsClass: _propTypes2['default'].string,\n\n  /**\n   * 是否可拖拽\n   */\n  draggable: _propTypes2['default'].bool,\n\n  /**\n   * 是否使用淡入淡出效果\n   */\n  fade: _propTypes2['default'].bool,\n\n  /**\n   * 是否使用无穷循环模式\n   */\n  infinite: _propTypes2['default'].bool,\n\n  /**\n   * 初始被激活的轮播图\n   */\n  initialSlide: _propTypes2['default'].number,\n\n  /**\n   * 是否启用懒加载\n   */\n  lazyLoad: _propTypes2['default'].bool,\n  vertical: _propTypes2['default'].bool,\n  rtl: _propTypes2['default'].bool,\n  slide: _propTypes2['default'].string,\n\n  /**\n   * 轮播方向\n   */\n  slideDirection: _propTypes2['default'].oneOf(['horizontal', 'vertical']),\n\n  /**\n   * 同时展示的图片数量\n   */\n  slidesToShow: _propTypes2['default'].number,\n\n  /**\n   * 同时滑动到图片数量\n   */\n  slidesToScroll: _propTypes2['default'].number,\n\n  /**\n   * 轮播速度\n   */\n  speed: _propTypes2['default'].number,\n  responsive: _propTypes2['default'].array,\n  children: _propTypes2['default'].any,\n\n  /**\n   * 跳转到指定的轮播图（受控）\n   */\n  slickGoTo: _propTypes2['default'].number,\n\n  /**\n   * 轮播切换后的回调函数\n   * @param {Number} index 当前幻灯片的索引\n   */\n  afterChange: _propTypes2['default'].func,\n\n  /**\n   * 轮播切换前的回调函数\n   * @param {Number} currentIndex 当前幻灯片的索引\n   * @param {Number} nextIndex    下一张幻灯片的索引\n   */\n  beforeChange: _propTypes2['default'].func,\n  style: _propTypes2['default'].object\n}, _class.defaultProps = {\n  prefix: 'next-',\n  animation: true,\n  arrowSize: 'medium',\n  arrowPos: 'inline',\n  vertical: false,\n  dots: true,\n  dotsDirection: 'horizontal',\n  arrows: true,\n  arrowDirection: 'horizontal',\n  infinite: true,\n  autoplay: false,\n  autoplaySpeed: 3000,\n  speed: 500,\n  adaptiveHeight: false,\n  centerMode: false,\n  centerPadding: '50px',\n  cssEase: 'ease',\n  draggable: true,\n  easing: 'linear',\n  edgeFriction: 0.35,\n  fade: false,\n  focusOnSelect: false,\n  initialSlide: 0,\n  lazyLoad: false,\n  pauseOnHover: false,\n  responsive: null,\n  rtl: false,\n  slide: 'div',\n  slideDirection: 'horizontal',\n  slidesToShow: 1,\n  slidesToScroll: 1,\n  swipe: true,\n  swipeToSlide: false,\n  touchMove: true,\n  touchThreshold: 5,\n  useCSS: true,\n  variableWidth: false,\n  waitForAnimate: true,\n  afterChange: null,\n  beforeChange: null,\n  edgeEvent: null,\n  swipeEvent: null,\n  nextArrow: null,\n  // // nextArrow, prevArrow are react components\n  prevArrow: null,\n  style: null\n}, _temp);\nSlider.displayName = 'Slider';\n(0, _utils.mixinTo)(Slider, ResponsiveMixin);\nmodule.exports = Slider;","map":null,"metadata":{},"sourceType":"script"}