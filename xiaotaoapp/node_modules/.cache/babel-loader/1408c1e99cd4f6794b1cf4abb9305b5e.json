{"ast":null,"code":"import _classCallCheck from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\frontend\\\\xiaotaoapp\\\\src\\\\js\\\\components\\\\blog\\\\categorycard.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { COLOR_LABEL_CATEGORY } from '../../constants/config';\n\nvar CategoryCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CategoryCard, _React$Component);\n\n  function CategoryCard() {\n    _classCallCheck(this, CategoryCard);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CategoryCard).apply(this, arguments));\n  }\n\n  _createClass(CategoryCard, [{\n    key: \"render\",\n    value: function render() {\n      var categoryList = [];\n      var categoryHash = {};\n      var issues = this.props.issues; // 类别去重计数（待优化）\n\n      for (var i = 0; i < issues.length; i += 1) {\n        for (var j = 0; j < issues[i].labels.length; j += 1) {\n          var label = issues[i].labels[j];\n\n          if (label.color === COLOR_LABEL_CATEGORY) {\n            var id = label.id;\n            var name = label.name;\n\n            if (categoryHash[name] === undefined) {\n              categoryHash[name] = true;\n              var categoryTemp = {\n                id: id,\n                name: name,\n                url: encodeURI(name),\n                sum: 1\n              };\n              categoryList.push(categoryTemp);\n            } else {\n              for (var k = 0; k < categoryList.length; k += 1) {\n                if (categoryList[k].name === name) {\n                  categoryList[k].sum += 1;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      var categoryLinkList = categoryList.sort(function (a, b) {\n        return b.sum - a.sum;\n      }).map(function (item) {\n        return React.createElement(Link, {\n          key: item.id,\n          to: \"/blog/category/\".concat(item.url),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, item.name, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, item.sum)));\n      });\n      return React.createElement(\"div\", {\n        className: \"rightsider-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rightsider-card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"bars\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), \" \\u5206\\u7C7B\"), React.createElement(\"div\", {\n        className: \"rightsider-card-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, categoryLinkList)));\n    }\n  }]);\n\n  return CategoryCard;\n}(React.Component);\n\nexport { CategoryCard as default };\nCategoryCard.defaultProps = {\n  issues: []\n};\nCategoryCard.propTypes = {\n  issues: PropTypes.array\n};","map":{"version":3,"sources":["E:\\frontend\\xiaotaoapp\\src\\js\\components\\blog\\categorycard.js"],"names":["React","PropTypes","Icon","Link","COLOR_LABEL_CATEGORY","CategoryCard","categoryList","categoryHash","issues","props","i","length","j","labels","label","color","id","name","undefined","categoryTemp","url","encodeURI","sum","push","k","categoryLinkList","sort","a","b","map","item","Component","defaultProps","propTypes","array"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { COLOR_LABEL_CATEGORY } from '../../constants/config';\n\nexport default class CategoryCard extends React.Component {\n  render() {\n    const categoryList = [];\n    const categoryHash = {};\n    const issues = this.props.issues;\n    // 类别去重计数（待优化）\n    for (let i = 0; i < issues.length; i += 1) {\n      for (let j = 0; j < issues[i].labels.length; j += 1) {\n        const label = issues[i].labels[j];\n        if (label.color === COLOR_LABEL_CATEGORY) {\n          const id = label.id;\n          const name = label.name;\n          if (categoryHash[name] === undefined) {\n            categoryHash[name] = true;\n            const categoryTemp = { id, name, url: encodeURI(name), sum: 1 };\n            categoryList.push(categoryTemp);\n          } else {\n            for (let k = 0; k < categoryList.length; k += 1) {\n              if (categoryList[k].name === name) {\n                categoryList[k].sum += 1;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    const categoryLinkList = categoryList.sort((a, b) => b.sum - a.sum).map(\n      item => <Link key={item.id} to={`/blog/category/${item.url}`}><li key={item.id}>{item.name}<span>{item.sum}</span></li></Link>);\n\n    return (\n      <div className=\"rightsider-card\">\n        <div className=\"rightsider-card-title\"><Icon type=\"bars\" /> 分类</div>\n        <div className=\"rightsider-card-content\">\n          <ul>\n            {categoryLinkList}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nCategoryCard.defaultProps = {\n  issues: [],\n};\n\nCategoryCard.propTypes = {\n  issues: PropTypes.array,\n};\n"]},"metadata":{},"sourceType":"module"}