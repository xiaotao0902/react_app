{"ast":null,"code":"'use strict';\n/**\n * Reference: https://github.com/akiran/react-responsive-mixin/blob/master/index.js\n * Author: akiran\n */\n\nvar utils = require('../../utils/utils.js');\n\nvar enquire = utils.canUseDOM && require('enquire.js');\n\nvar json2mq = require('../../utils/json2mq.js');\n\nvar ResponsiveMixin = {\n  media: function media(query, handler) {\n    query = json2mq(query);\n\n    if (typeof handler === 'function') {\n      handler = {\n        match: handler\n      };\n    }\n\n    enquire.register(query, handler); // Queue the handlers to unregister them at unmount\n\n    if (!this._responsiveMediaHandlers) {\n      this._responsiveMediaHandlers = [];\n    }\n\n    this._responsiveMediaHandlers.push({\n      query: query,\n      handler: handler\n    });\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    if (this._responsiveMediaHandlers) {\n      this._responsiveMediaHandlers.forEach(function (obj) {\n        enquire.unregister(obj.query, obj.handler);\n      });\n    }\n  }\n};\nmodule.exports = ResponsiveMixin;","map":null,"metadata":{},"sourceType":"script"}