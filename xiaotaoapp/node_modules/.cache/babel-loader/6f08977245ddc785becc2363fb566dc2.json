{"ast":null,"code":"import _classCallCheck from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"E:\\\\frontend\\\\xiaotaoapp\\\\src\\\\js\\\\components\\\\article\\\\navigation.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Navigation =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Navigation, _React$Component);\n\n  function Navigation() {\n    var _this;\n\n    _classCallCheck(this, Navigation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Navigation).call(this));\n    _this.state = {\n      menuList: null\n    };\n    _this.getMenuList = _this.getMenuList.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } // 写的有点丑 T T.\n\n\n  _createClass(Navigation, [{\n    key: \"getMenuList\",\n    value: function getMenuList(content) {\n      // const h2 = content.match(new RegExp('<h2 id=\"-\">([^<]*)</h2>','g')).map(item => getTitleText(item));\n      var issues = content;\n      var menu = [];\n      var patt = /(#+)\\s+?(.+)/g;\n      var result = null;\n\n      while (result = patt.exec(issues)) {\n        menu.push({\n          level: result[1].length,\n          title: result[2]\n        });\n      }\n\n      var menuObj = [];\n      var level2Temp = null;\n      var level3Temp = null;\n      var level4Temp = null;\n\n      for (var i = 0; i < menu.length; i += 1) {\n        if (menu[i].level === 2) {\n          level2Temp = {\n            id: i,\n            level: 2,\n            title: menu[i].title,\n            children: []\n          };\n          menuObj.push(level2Temp);\n        } else if (menu[i].level === 3) {\n          level3Temp = {\n            id: i,\n            level: 3,\n            title: menu[i].title,\n            children: []\n          };\n          level2Temp.children.push(level3Temp);\n        } else if (menu[i].level === 4) {\n          level4Temp = {\n            id: i,\n            level: 4,\n            title: menu[i].title\n          };\n          level3Temp.children.push(level4Temp);\n        }\n      }\n\n      return menuObj.map(function (level2) {\n        return React.createElement(\"li\", {\n          key: level2.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, level2.title, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, level2.children.map(function (level3) {\n          return React.createElement(\"li\", {\n            key: level3.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, level3.title, React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, level3.children.map(function (level4) {\n            return React.createElement(\"li\", {\n              key: level4.id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 56\n              },\n              __self: this\n            }, level4.title);\n          })));\n        })));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var menuList = this.getMenuList(this.props.content);\n      return React.createElement(\"div\", {\n        className: \"rightsider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rightsider-card article-navigation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rightsider-card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"\\u76EE\\u5F55\"), React.createElement(\"div\", {\n        className: \"article-navigation-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, menuList))));\n    }\n  }]);\n\n  return Navigation;\n}(React.Component);\n\nexport { Navigation as default };\nNavigation.defaultProps = {\n  content: 'content'\n};\nNavigation.propTypes = {\n  content: PropTypes.string\n};","map":{"version":3,"sources":["E:\\frontend\\xiaotaoapp\\src\\js\\components\\article\\navigation.js"],"names":["React","PropTypes","Navigation","state","menuList","getMenuList","bind","content","issues","menu","patt","result","exec","push","level","length","title","menuObj","level2Temp","level3Temp","level4Temp","i","id","children","map","level2","level3","level4","props","Component","defaultProps","propTypes","string"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Navigation extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      menuList: null,\n    };\n    this.getMenuList = this.getMenuList.bind(this);\n  }\n  // 写的有点丑 T T.\n  getMenuList(content) {\n    // const h2 = content.match(new RegExp('<h2 id=\"-\">([^<]*)</h2>','g')).map(item => getTitleText(item));\n    const issues = content;\n    const menu = [];\n    const patt = /(#+)\\s+?(.+)/g;\n    let result = null;\n    while ((result = patt.exec(issues))) {\n      menu.push({ level: result[1].length, title: result[2] });\n    }\n    const menuObj = [];\n    let level2Temp = null;\n    let level3Temp = null;\n    let level4Temp = null;\n    for (let i = 0; i < menu.length; i += 1) {\n      if (menu[i].level === 2) {\n        level2Temp = {\n          id: i,\n          level: 2,\n          title: menu[i].title,\n          children: [],\n        };\n        menuObj.push(level2Temp);\n      } else if (menu[i].level === 3) {\n        level3Temp = {\n          id: i,\n          level: 3,\n          title: menu[i].title,\n          children: [],\n        };\n        level2Temp.children.push(level3Temp);\n      } else if (menu[i].level === 4) {\n        level4Temp = {\n          id: i,\n          level: 4,\n          title: menu[i].title,\n        };\n        level3Temp.children.push(level4Temp);\n      }\n    }\n    return menuObj.map(level2 => (<li key={level2.id}>{level2.title}\n      <ul>\n        {level2.children.map(level3 => (<li key={level3.id}>{level3.title}\n          <ul>\n            {level3.children.map(level4 => (<li key={level4.id}>{level4.title}</li>))}\n          </ul>\n        </li>))}\n      </ul>\n    </li>));\n  }\n\n  render() {\n    const menuList = this.getMenuList(this.props.content);\n    return (\n      <div className=\"rightsider\">\n        <div className=\"rightsider-card article-navigation\">\n          <div className=\"rightsider-card-title\">目录</div>\n          <div className=\"article-navigation-content\">\n            <ul>\n              {menuList}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nNavigation.defaultProps = {\n  content: 'content',\n};\n\nNavigation.propTypes = {\n  content: PropTypes.string,\n};\n"]},"metadata":{},"sourceType":"module"}