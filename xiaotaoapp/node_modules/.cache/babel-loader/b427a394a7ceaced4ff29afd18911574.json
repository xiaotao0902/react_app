{"ast":null,"code":"import _classCallCheck from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\frontend\\\\xiaotaoapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"E:\\\\frontend\\\\xiaotaoapp\\\\src\\\\js\\\\components\\\\archive\\\\yearcard.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon } from 'antd';\n\nvar YearCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(YearCard, _React$Component);\n\n  function YearCard() {\n    var _this;\n\n    _classCallCheck(this, YearCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(YearCard).call(this));\n    _this.getYearSum = _this.getYearSum.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(YearCard, [{\n    key: \"getYearSum\",\n    value: function getYearSum(issues) {\n      var yearList = [];\n      var yearHash = {};\n\n      for (var i = 0; i < issues.length; i += 1) {\n        var year = parseInt(issues[i].updated_at.substring(0, 4), 10);\n\n        if (yearHash[year] === undefined) {\n          yearHash[year] = true;\n          var yearTemp = {\n            year: year,\n            sum: 1\n          };\n          yearList.push(yearTemp);\n        } else {\n          for (var j = 0; j < yearList.length; j += 1) {\n            if (yearList[j].year === year) {\n              yearList[j].sum += 1;\n            }\n          }\n        }\n      }\n\n      return yearList;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var yearList = this.getYearSum(this.props.issues).map(function (item) {\n        return React.createElement(\"li\", {\n          key: item.year,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, item.year, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, item.sum));\n      });\n      return React.createElement(\"div\", {\n        className: \"rightsider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rightsider-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rightsider-card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"bars\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }), \" \\u7EDF\\u8BA1\"), React.createElement(\"div\", {\n        className: \"rightsider-card-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, yearList)));\n    }\n  }]);\n\n  return YearCard;\n}(React.Component);\n\nexport { YearCard as default };\nYearCard.defaultProps = {\n  issues: null\n};\nYearCard.propTypes = {\n  issues: PropTypes.array\n};","map":{"version":3,"sources":["E:\\frontend\\xiaotaoapp\\src\\js\\components\\archive\\yearcard.js"],"names":["React","PropTypes","Icon","YearCard","getYearSum","bind","issues","yearList","yearHash","i","length","year","parseInt","updated_at","substring","undefined","yearTemp","sum","push","j","props","map","item","Component","defaultProps","propTypes","array"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,IAAT,QAAqB,MAArB;;IAEqBC,Q;;;;;AACnB,sBAAc;AAAA;;AAAA;;AACZ;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,uDAAlB;AAFY;AAGb;;;;+BACUC,M,EAAQ;AACjB,UAAMC,QAAQ,GAAG,EAAjB;AACA,UAAMC,QAAQ,GAAG,EAAjB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,MAAM,CAACI,MAA3B,EAAmCD,CAAC,IAAI,CAAxC,EAA2C;AACzC,YAAME,IAAI,GAAGC,QAAQ,CAACN,MAAM,CAACG,CAAD,CAAN,CAAUI,UAAV,CAAqBC,SAArB,CAA+B,CAA/B,EAAkC,CAAlC,CAAD,EAAuC,EAAvC,CAArB;;AACA,YAAIN,QAAQ,CAACG,IAAD,CAAR,KAAmBI,SAAvB,EAAkC;AAChCP,UAAAA,QAAQ,CAACG,IAAD,CAAR,GAAiB,IAAjB;AACA,cAAMK,QAAQ,GAAG;AAAEL,YAAAA,IAAI,EAAJA,IAAF;AAAQM,YAAAA,GAAG,EAAE;AAAb,WAAjB;AACAV,UAAAA,QAAQ,CAACW,IAAT,CAAcF,QAAd;AACD,SAJD,MAIO;AACL,eAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,QAAQ,CAACG,MAA7B,EAAqCS,CAAC,IAAI,CAA1C,EAA6C;AAC3C,gBAAIZ,QAAQ,CAACY,CAAD,CAAR,CAAYR,IAAZ,KAAqBA,IAAzB,EAA+B;AAC7BJ,cAAAA,QAAQ,CAACY,CAAD,CAAR,CAAYF,GAAZ,IAAmB,CAAnB;AACD;AACF;AACF;AACF;;AACD,aAAOV,QAAP;AACD;;;6BACQ;AACP,UAAMA,QAAQ,GAAG,KAAKH,UAAL,CAAgB,KAAKgB,KAAL,CAAWd,MAA3B,EAAmCe,GAAnC,CAAuC,UAAAC,IAAI;AAAA,eAAI;AAAI,UAAA,GAAG,EAAEA,IAAI,CAACX,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqBW,IAAI,CAACX,IAA1B,EAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAOW,IAAI,CAACL,GAAZ,CAA/B,CAAJ;AAAA,OAA3C,CAAjB;AACA,aACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuC,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAvC,kBADF,EAEE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGV,QADH,CAFF,CADF,CADF;AAUD;;;;EApCmCP,KAAK,CAACuB,S;;SAAvBpB,Q;AAuCrBA,QAAQ,CAACqB,YAAT,GAAwB;AACtBlB,EAAAA,MAAM,EAAE;AADc,CAAxB;AAIAH,QAAQ,CAACsB,SAAT,GAAqB;AACnBnB,EAAAA,MAAM,EAAEL,SAAS,CAACyB;AADC,CAArB","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon } from 'antd';\n\nexport default class YearCard extends React.Component {\n  constructor() {\n    super();\n    this.getYearSum = this.getYearSum.bind(this);\n  }\n  getYearSum(issues) {\n    const yearList = [];\n    const yearHash = {};\n    for (let i = 0; i < issues.length; i += 1) {\n      const year = parseInt(issues[i].updated_at.substring(0, 4), 10);\n      if (yearHash[year] === undefined) {\n        yearHash[year] = true;\n        const yearTemp = { year, sum: 1 };\n        yearList.push(yearTemp);\n      } else {\n        for (let j = 0; j < yearList.length; j += 1) {\n          if (yearList[j].year === year) {\n            yearList[j].sum += 1;\n          }\n        }\n      }\n    }\n    return yearList;\n  }\n  render() {\n    const yearList = this.getYearSum(this.props.issues).map(item => <li key={item.year}>{item.year}<span>{item.sum}</span></li>);\n    return (\n      <div className=\"rightsider\">\n        <div className=\"rightsider-card\">\n          <div className=\"rightsider-card-title\"><Icon type=\"bars\" /> 统计</div>\n          <div className=\"rightsider-card-content\">\n            {yearList}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nYearCard.defaultProps = {\n  issues: null,\n};\n\nYearCard.propTypes = {\n  issues: PropTypes.array,\n};\n"]},"metadata":{},"sourceType":"module"}